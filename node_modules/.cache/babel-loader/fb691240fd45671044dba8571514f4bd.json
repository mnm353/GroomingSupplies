{"ast":null,"code":"var _jsxFileName = \"/Users/mandyrobinson/Documents/Code/Devmountain/GitHub/FullStackExampleECom/src/views/login/login.js\";\nimport React, { Component } from 'react';\nimport './login.css';\nimport axios from 'axios';\nimport { connect } from 'react-redux';\nimport * as actions from '../../redux/action_creators/action_creator';\nimport Register from './subview/register/register';\nimport httpRequest from '../../shared/services/http_request';\n\nclass Login extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      email: '',\n      password: '',\n      showRegister: false\n    };\n\n    this.login = () => {\n      const loginObj = {\n        email: this.state.email,\n        password: this.state.password\n      };\n      httpRequest.post('/api/login', this.props, loginObj).then(data => {\n        debugger;\n        this.props.setUser(data.user);\n        this.props.history.push('/products');\n      });\n    };\n\n    this.showRegister = () => {\n      this.setState({\n        showRegister: true\n      });\n    };\n\n    this.register = registerObj => {\n      httpRequest.post('/api/register', this.props, registerObj).then(data => {\n        this.props.setUser(data.user);\n        this.props.history.push('/products');\n      });\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n  }\n\n  render() {\n    const register = this.state.showRegister ? React.createElement(Register, {\n      register: this.register,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }) : '';\n    return React.createElement(\"div\", {\n      className: \"login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, register, this.state.showRegister ? '' : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Email\",\n      name: \"email\",\n      value: this.state.email,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Password\",\n      name: \"password\",\n      value: this.state.password,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: this.login,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, \"login\"), React.createElement(\"button\", {\n      onClick: this.showRegister,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"register\")));\n  }\n\n}\n\nexport default connect(state => state, actions)(Login);","map":{"version":3,"sources":["/Users/mandyrobinson/Documents/Code/Devmountain/GitHub/FullStackExampleECom/src/views/login/login.js"],"names":["React","Component","axios","connect","actions","Register","httpRequest","Login","state","email","password","showRegister","login","loginObj","post","props","then","data","setUser","user","history","push","setState","register","registerObj","handleChange","e","target","name","value","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,aAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAO,KAAKC,OAAZ,MAAyB,4CAAzB;AACA,OAAOC,QAAP,MAAqB,6BAArB;AACA,OAAOC,WAAP,MAAyB,oCAAzB;;AAEA,MAAMC,KAAN,SAAoBN,SAApB,CAA8B;AAAA;AAAA;AAAA,SAC7BO,KAD6B,GACrB;AACPC,MAAAA,KAAK,EAAE,EADA;AAEPC,MAAAA,QAAQ,EAAE,EAFH;AAGPC,MAAAA,YAAY,EAAE;AAHP,KADqB;;AAAA,SAM7BC,KAN6B,GAMrB,MAAM;AACb,YAAMC,QAAQ,GAAG;AAChBJ,QAAAA,KAAK,EAAE,KAAKD,KAAL,CAAWC,KADF;AAEhBC,QAAAA,QAAQ,EAAE,KAAKF,KAAL,CAAWE;AAFL,OAAjB;AAIAJ,MAAAA,WAAW,CAACQ,IAAZ,CAAiB,YAAjB,EAA+B,KAAKC,KAApC,EAA2CF,QAA3C,EAAqDG,IAArD,CAA2DC,IAAD,IAAW;AACpE;AACC,aAAKF,KAAL,CAAWG,OAAX,CAAmBD,IAAI,CAACE,IAAxB;AACA,aAAKJ,KAAL,CAAWK,OAAX,CAAmBC,IAAnB,CAAwB,WAAxB;AACD,OAJD;AAKA,KAhB4B;;AAAA,SAiB7BV,YAjB6B,GAiBd,MAAM;AACpB,WAAKW,QAAL,CAAc;AACbX,QAAAA,YAAY,EAAE;AADD,OAAd;AAGA,KArB4B;;AAAA,SAsB7BY,QAtB6B,GAsBlBC,WAAW,IAAI;AACzBlB,MAAAA,WAAW,CAACQ,IAAZ,CAAiB,eAAjB,EAAkC,KAAKC,KAAvC,EAA8CS,WAA9C,EAA2DR,IAA3D,CAAiEC,IAAD,IAAW;AACzE,aAAKF,KAAL,CAAWG,OAAX,CAAmBD,IAAI,CAACE,IAAxB;AACA,aAAKJ,KAAL,CAAWK,OAAX,CAAmBC,IAAnB,CAAwB,WAAxB;AACD,OAHD;AAIA,KA3B4B;;AAAA,SA6B7BI,YA7B6B,GA6BbC,CAAD,IAAO;AACf,WAAKJ,QAAL,CAAc;AACV,SAACI,CAAC,CAACC,MAAF,CAASC,IAAV,GAAkBF,CAAC,CAACC,MAAF,CAASE;AADjB,OAAd;AAGH,KAjCyB;AAAA;;AAkC7BC,EAAAA,MAAM,GAAG;AACR,UAAMP,QAAQ,GAAG,KAAKf,KAAL,CAAWG,YAAX,GAA0B,oBAAC,QAAD;AAAU,MAAA,QAAQ,EAAE,KAAKY,QAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAA1B,GAAkE,EAAnF;AACA,WACC;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACEA,QADF,EAEE,KAAKf,KAAL,CAAWG,YAAX,GACA,EADA,GAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AACC,MAAA,IAAI,EAAC,MADN;AAEC,MAAA,WAAW,EAAC,OAFb;AAGC,MAAA,IAAI,EAAC,OAHN;AAIC,MAAA,KAAK,EAAE,KAAKH,KAAL,CAAWC,KAJnB;AAKC,MAAA,QAAQ,EAAE,KAAKgB,YALhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,EAQC;AACC,MAAA,IAAI,EAAC,MADN;AAEC,MAAA,WAAW,EAAC,UAFb;AAGC,MAAA,IAAI,EAAC,UAHN;AAIC,MAAA,KAAK,EAAE,KAAKjB,KAAL,CAAWE,QAJnB;AAKC,MAAA,QAAQ,EAAE,KAAKe,YALhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MARD,EAeC;AAAQ,MAAA,OAAO,EAAE,KAAKb,KAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAfD,EAgBC;AAAQ,MAAA,OAAO,EAAE,KAAKD,YAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAhBD,CALF,CADD;AA2BA;;AA/D4B;;AAkE9B,eAAeR,OAAO,CAACK,KAAK,IAAIA,KAAV,EAAiBJ,OAAjB,CAAP,CAAiCG,KAAjC,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport './login.css';\nimport axios from 'axios';\nimport { connect } from 'react-redux';\nimport * as actions from '../../redux/action_creators/action_creator';\nimport Register from './subview/register/register';\nimport httpRequest  from '../../shared/services/http_request'\n\nclass Login extends Component {\n\tstate = {\n\t\temail: '',\n\t\tpassword: '',\n\t\tshowRegister: false\n\t};\n\tlogin = () => {\n\t\tconst loginObj = {\n\t\t\temail: this.state.email,\n\t\t\tpassword: this.state.password\n\t\t};\n\t\thttpRequest.post('/api/login', this.props, loginObj).then((data ) => {\n\t\t\tdebugger\n\t\t\t\tthis.props.setUser(data.user);\n\t\t\t\tthis.props.history.push('/products');\n\t\t});\n\t};\n\tshowRegister = () => {\n\t\tthis.setState({\n\t\t\tshowRegister: true\n\t\t});\n\t};\n\tregister = registerObj => {\n\t\thttpRequest.post('/api/register', this.props, registerObj).then((data ) => {\n\t\t\t\tthis.props.setUser(data.user);\n\t\t\t\tthis.props.history.push('/products');\n\t\t});\n\t};\n\n\thandleChange = (e) => {\n        this.setState({\n            [e.target.name] : e.target.value\n        })\n    }\n\trender() {\n\t\tconst register = this.state.showRegister ? <Register register={this.register} /> : '';\n\t\treturn (\n\t\t\t<div className=\"login\">\n\t\t\t\t{register}\n\t\t\t\t{this.state.showRegister ? (\n\t\t\t\t\t''\n\t\t\t\t) : (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tplaceholder=\"Email\"\n\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\tvalue={this.state.email}\n\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tplaceholder=\"Password\"\n\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\tvalue={this.state.password}\n\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<button onClick={this.login}>login</button>\n\t\t\t\t\t\t<button onClick={this.showRegister}>register</button>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default connect(state => state, actions)(Login);\n"]},"metadata":{},"sourceType":"module"}