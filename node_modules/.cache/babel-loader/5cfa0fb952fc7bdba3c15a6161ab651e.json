{"ast":null,"code":"var _jsxFileName = \"/Users/mandyrobinson/Documents/Code/Devmountain/GitHub/FullStackExampleECom/src/views/login/login.js\";\nimport React, { Component } from 'react';\nimport './login.css';\nimport axios from 'axios';\nimport { connect } from 'react-redux';\nimport * as actions from '../../redux/action_creators/action_creator';\nimport Register from './subview/register/register';\n\nclass Login extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      email: '',\n      password: '',\n      showRegister: false\n    };\n\n    this.login = () => {\n      debugger;\n      const loginObj = {\n        email: this.state.email,\n        password: this.state.password\n      };\n      axios.post('/api/login', loginObj).then(({\n        data\n      }) => {\n        if (data.success) {\n          this.props.setUser(data.user);\n          this.props.history.push('/products');\n        } else {\n          alert('Wrong credentails');\n        }\n      });\n    };\n\n    this.showRegister = () => {\n      this.setState({\n        showRegister: true\n      });\n    };\n\n    this.register = registerObj => {\n      debugger;\n      axios.post('/api/register', registerObj).then(({\n        data\n      }) => {\n        debugger;\n\n        if (data.success) {\n          this.props.setUser(data.user);\n          this.props.history.push('/products');\n        } else {\n          alert('Email already exists login.');\n        }\n      });\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n  }\n\n  render() {\n    const register = this.state.showRegister ? React.createElement(Register, {\n      register: this.register,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }) : '';\n    return React.createElement(\"div\", {\n      className: \"login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, register, this.state.showRegister ? '' : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Email\",\n      name: \"email\",\n      value: this.state.email,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Password\",\n      name: \"password\",\n      value: this.state.password,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: this.login,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, \"login\"), React.createElement(\"button\", {\n      onClick: this.showRegister,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, \"register\")));\n  }\n\n}\n\nexport default connect(state => state, actions)(Login);","map":{"version":3,"sources":["/Users/mandyrobinson/Documents/Code/Devmountain/GitHub/FullStackExampleECom/src/views/login/login.js"],"names":["React","Component","axios","connect","actions","Register","Login","state","email","password","showRegister","login","loginObj","post","then","data","success","props","setUser","user","history","push","alert","setState","register","registerObj","handleChange","e","target","name","value","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './login.css';\nimport axios from 'axios';\nimport { connect } from 'react-redux';\nimport * as actions from '../../redux/action_creators/action_creator';\nimport Register from './subview/register/register';\n\nclass Login extends Component {\n\tstate = {\n\t\temail: '',\n\t\tpassword: '',\n\t\tshowRegister: false\n\t};\n\tlogin = () => {\n\t\tdebugger;\n\t\tconst loginObj = {\n\t\t\temail: this.state.email,\n\t\t\tpassword: this.state.password\n\t\t};\n\t\taxios.post('/api/login', loginObj).then(({ data }) => {\n\t\t\tif (data.success) {\n\t\t\t\tthis.props.setUser(data.user);\n\t\t\t\tthis.props.history.push('/products');\n\t\t\t} else {\n\t\t\t\talert('Wrong credentails');\n\t\t\t}\n\t\t});\n\t};\n\tshowRegister = () => {\n\t\tthis.setState({\n\t\t\tshowRegister: true\n\t\t});\n\t};\n\tregister = registerObj => {\n\t\tdebugger;\n\t\taxios.post('/api/register', registerObj).then(({ data }) => {\n\t\t\tdebugger;\n\t\t\tif (data.success) {\n\t\t\t\tthis.props.setUser(data.user);\n\t\t\t\tthis.props.history.push('/products');\n\t\t\t} else {\n\t\t\t\talert('Email already exists login.');\n\t\t\t}\n\t\t});\n\t};\n\n\thandleChange = (e) => {\n        this.setState({\n            [e.target.name] : e.target.value\n        })\n    }\n\trender() {\n\t\tconst register = this.state.showRegister ? <Register register={this.register} /> : '';\n\t\treturn (\n\t\t\t<div className=\"login\">\n\t\t\t\t{register}\n\t\t\t\t{this.state.showRegister ? (\n\t\t\t\t\t''\n\t\t\t\t) : (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tplaceholder=\"Email\"\n\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\tvalue={this.state.email}\n\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tplaceholder=\"Password\"\n\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\tvalue={this.state.password}\n\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<button onClick={this.login}>login</button>\n\t\t\t\t\t\t<button onClick={this.showRegister}>register</button>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default connect(state => state, actions)(Login);\n"]},"metadata":{},"sourceType":"module"}