{"ast":null,"code":"var _jsxFileName = \"/Users/mandyrobinson/Documents/Code/Devmountain/GitHub/FullStackExampleECom/src/views/details/details.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport './details.css';\nimport { connect } from 'react-redux';\nimport * as Actions from '../../redux/action_creators/action_creator';\n\nclass Details extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      product: {}\n    };\n\n    this.addToCart = () => {\n      debugger;\n      const product = this.state.product;\n      axios.post('/api/cart', {\n        product\n      }).then(({\n        data\n      }) => {\n        debugger;\n\n        if (data.success) {\n          this.props.setCart(data.cartItems);\n          this.props.history.push('/cart');\n        } else if (!data.isLoggedIn) {\n          this.props.history.push('/');\n        } else {\n          alert('something blew up');\n        }\n      });\n    };\n  }\n\n  // http://localhost:8065/api/products/2\n  componentDidMount() {\n    axios.get(\"/api/products/\".concat(this.props.match.params.id)).then(({\n      data\n    }) => {\n      if (data.success) {\n        this.setState({\n          product: data.product\n        });\n      } else if (!data.isLoggedIn) {\n        this.props.history.push('/');\n      } else {\n        alert('something blew up');\n      }\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"details\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: this.state.product.image_url,\n      alt: \"product image\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }), React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, \" \", this.state.product.name)), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, this.state.product.description), React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, this.state.product.price), React.createElement(\"button\", {\n      onClick: this.addToCart,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, \"Add to Cart\")));\n  }\n\n}\n\nexport default connect(null, Actions)(Details);","map":{"version":3,"sources":["/Users/mandyrobinson/Documents/Code/Devmountain/GitHub/FullStackExampleECom/src/views/details/details.js"],"names":["React","Component","axios","connect","Actions","Details","state","product","addToCart","post","then","data","success","props","setCart","cartItems","history","push","isLoggedIn","alert","componentDidMount","get","match","params","id","setState","render","image_url","name","description","price"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,eAAP;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAO,KAAKC,OAAZ,MAAyB,4CAAzB;;AAEA,MAAMC,OAAN,SAAsBJ,SAAtB,CAAgC;AAAA;AAAA;AAAA,SAC/BK,KAD+B,GACvB;AACPC,MAAAA,OAAO,EAAE;AADF,KADuB;;AAAA,SAmB/BC,SAnB+B,GAmBnB,MAAM;AACjB;AACA,YAAMD,OAAO,GAAG,KAAKD,KAAL,CAAWC,OAA3B;AACAL,MAAAA,KAAK,CAACO,IAAN,CAAW,WAAX,EAAwB;AAAEF,QAAAA;AAAF,OAAxB,EACEG,IADF,CACO,CAAC;AAAEC,QAAAA;AAAF,OAAD,KAAc;AACnB;;AACA,YAAIA,IAAI,CAACC,OAAT,EAAkB;AACjB,eAAKC,KAAL,CAAWC,OAAX,CAAmBH,IAAI,CAACI,SAAxB;AACA,eAAKF,KAAL,CAAWG,OAAX,CAAmBC,IAAnB,CAAwB,OAAxB;AACA,SAHD,MAGO,IAAI,CAACN,IAAI,CAACO,UAAV,EAAsB;AAC5B,eAAKL,KAAL,CAAWG,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB;AACA,SAFM,MAEA;AACNE,UAAAA,KAAK,CAAC,mBAAD,CAAL;AACA;AACD,OAXF;AAYA,KAlC8B;AAAA;;AAI/B;AACAC,EAAAA,iBAAiB,GAAG;AACnBlB,IAAAA,KAAK,CAACmB,GAAN,yBAA2B,KAAKR,KAAL,CAAWS,KAAX,CAAiBC,MAAjB,CAAwBC,EAAnD,GAAyDd,IAAzD,CAA8D,CAAC;AAAEC,MAAAA;AAAF,KAAD,KAAc;AAC3E,UAAIA,IAAI,CAACC,OAAT,EAAkB;AACjB,aAAKa,QAAL,CAAc;AACblB,UAAAA,OAAO,EAAEI,IAAI,CAACJ;AADD,SAAd;AAGA,OAJD,MAIO,IAAI,CAACI,IAAI,CAACO,UAAV,EAAsB;AAC5B,aAAKL,KAAL,CAAWG,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB;AACA,OAFM,MAEA;AACNE,QAAAA,KAAK,CAAC,mBAAD,CAAL;AACA;AACD,KAVD;AAWA;;AAmBDO,EAAAA,MAAM,GAAG;AACR,WACC;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAK,MAAA,GAAG,EAAE,KAAKpB,KAAL,CAAWC,OAAX,CAAmBoB,SAA7B;AAAwC,MAAA,GAAG,EAAC,eAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,EAEC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAM,KAAKrB,KAAL,CAAWC,OAAX,CAAmBqB,IAAzB,CAFD,CADD,EAKC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAI,KAAKtB,KAAL,CAAWC,OAAX,CAAmBsB,WAAvB,CADD,EAEC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAK,KAAKvB,KAAL,CAAWC,OAAX,CAAmBuB,KAAxB,CAFD,EAGC;AAAQ,MAAA,OAAO,EAAE,KAAKtB,SAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAHD,CALD,CADD;AAaA;;AAlD8B;;AAqDhC,eAAeL,OAAO,CAAC,IAAD,EAAOC,OAAP,CAAP,CAAuBC,OAAvB,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport './details.css';\nimport { connect } from 'react-redux';\nimport * as Actions from '../../redux/action_creators/action_creator'\n\nclass Details extends Component {\n\tstate = {\n\t\tproduct: {}\n\t};\n\t// http://localhost:8065/api/products/2\n\tcomponentDidMount() {\n\t\taxios.get(`/api/products/${this.props.match.params.id}`).then(({ data }) => {\n\t\t\tif (data.success) {\n\t\t\t\tthis.setState({\n\t\t\t\t\tproduct: data.product\n\t\t\t\t});\n\t\t\t} else if (!data.isLoggedIn) {\n\t\t\t\tthis.props.history.push('/');\n\t\t\t} else {\n\t\t\t\talert('something blew up');\n\t\t\t}\n\t\t});\n\t}\n\n\taddToCart = () => {\n\t\tdebugger\n\t\tconst product = this.state.product;\n\t\taxios.post('/api/cart', { product })\n\t\t\t.then(({ data }) => {\n\t\t\t\tdebugger\n\t\t\t\tif (data.success) {\n\t\t\t\t\tthis.props.setCart(data.cartItems);\n\t\t\t\t\tthis.props.history.push('/cart');\n\t\t\t\t} else if (!data.isLoggedIn) {\n\t\t\t\t\tthis.props.history.push('/');\n\t\t\t\t} else {\n\t\t\t\t\talert('something blew up');\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"details\">\n\t\t\t\t<div>\n\t\t\t\t\t<img src={this.state.product.image_url} alt=\"product image\" />\n\t\t\t\t\t<h1> {this.state.product.name}</h1>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<p>{this.state.product.description}</p>\n\t\t\t\t\t<h4>{this.state.product.price}</h4>\n\t\t\t\t\t<button onClick={this.addToCart}>Add to Cart</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default connect(null, Actions)(Details);\n"]},"metadata":{},"sourceType":"module"}